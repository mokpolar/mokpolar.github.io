---
layout: post
no_hidden: false
title: 책 리뷰 - 이벤트 기반 마이크로 서비스 구축
summary: 이 책은 실시간 데이터 활용을 위한 시스템 아키텍처 가이드이다...
featured-img: eventdriven
categories: [Blog]
author: mokpolar
sitemap:
    changefreq: daily
    priority: 1.0
---

- 리뷰 도서로 선정한 이유
    - 도서 설명에도 나와있듯이 이 책의 내용은 실시간 데이터 활용을 위한 시스템 아키텍처 가이드이다. 
    - 고를 수 있는 세 개의 도서 중 이 책을 고른 이유는 현재 퍼블릭 클라우드의 매니지드 쿠버네티스에서 스프링 프레임워크로 구성된 마이크로서비스 아키텍처를 일부 가졌다고 할 만한 어플리케이션을 다루는 상황이라 관심이 생겼기 때문이다.... 하지만
    - 기존 시스템의 통신 방식을 충분히 다루고 이에 대한 문제점을 제대로 인지한 상황이었다면 책 내용이 더 와닿고 도움이 되었을 텐데 경험이 부족하여 책 내용을 소화 할 수준이 아니라서 아쉽다.
    - 기존 시스템을 변경하거나 새로 구축해야 해서 서비스의 아키텍처를 고민하고 있고 결정해야 할 입장이라면 이 책을 참고하며 고민거리들을 해결할 것 같다. 
- 왜 이벤트 기반 마이크로서비스인가?
    - 이 책의 첫 챕터의 제목이며 예시로서 사람들이 이 책을 읽어야 할 이유이자 당위성을 제공한다. 
    - 단일 데이터 저장소에 기반한 단일 서비스를 담당하던 팀이 있다. 어느 날 신규 비즈니스 요건이 접수되었는데 이를 기존 서비스에 붙이던가 따로 서비스를 구현한다는 2가지 옵션이 있을 때 이 어떤 선택을 해야 하는가?
    - 기존 서비스에 붙인다는 선택을 한 이 팀의 규모는 커졌고 결국 비즈니스 기능을 두 팀에 할당하는 상황을 맞닥뜨렸다. 동일한 데이터를 두 팀이 많이 필요로 하는데, 이런 고민을 하게된다. 
        - 어느 팀이 어떤 데이터를 소유해야 하나
        - 데이터는 어디 두어야 하나
        - 두 팀 모두 값을 변경하는 데이터는 어떻게 처리해야 하나
    - 이런 고민을 하게 되는 근원은 구현 통신 구조 간의 데이터 통신 수단이 취약하고 제대로 정의되지 않았기 때문이며 그 대안은 이벤트 기반 통신이다.
- 챕터 별 내용으로 보는 책의 흐름
    - 이벤트 기반 마이크로서비스는 이벤트 스트림을 생산하거나 소비 처리 하는 컨슈머이며 프로듀서 역할을 한다. 그리고 그 대략적인 구조 설명. (2장 이벤트 기반 마이크로서비스 기초)
    - 서비스는 스테이트리스, 스테이트풀 서비스가 있고 동기식 요청-응답 서비스가 있다. (5장 이벤트 기반 처리 기본, 7장 상태 저장 스트리밍, 13장 이벤트 기반 마이크로서비스와 요청-응답 마이크로서비스의 통합) 
    - 파일 저장소를 두고 벌크 데이터를 퍼나르는 등의 레거시 시스템이 있다면 이벤트 브로커에 있는 비즈니스 도메인 데이터를 이벤트 스트림으로 소비하는 데이터 해방 프로세스가 필요하며 그러면 모든 시스템이 데이터에 접근할 수 있다. (4장 기존 시스템에 이벤트 기반 아키텍처 통합)
    - 마이크로서비스도 문제가 발생할 수 있고 비즈니스 로직이 변경되거나 에러가 발생하면 재처리를 해야 하기 때문에 결과를 확정적으로 만들어야 한다. 이를 위해 타임스탬프, 이벤트 스케줄링 등에 대해 알아야 한다. (6장 확정적 스트림 처리)
    - 단일 마이크로서비스가 아니라 다수의 마이크로서비스가 어떻게 동작해서 비즈니스 워크플로를 구성하는가. (8장 마이크로서비스 워크플로 구축)
    - 이벤트 기반 처리에서 데이터 스트림을 처리하는 메커니즘과 API를 제공하며 이벤트 브로커에서 이벤트를 생상/소비하는 스트리밍 프레임워크들. (11장 대용량 프레임워크 마이크로서비스, 12장 경량 프레임워크 마이크로서비스)
    - 이벤트 기반 마이크로서비스의 테스트와 배포는 이렇게 한다. (15장 이벤트 기반 마이크로서비스 테스트, 16장 이벤트 기반 마이크로서비스 배포)


—"한빛미디어 <나는 리뷰어다> 활동을 위해서 책을 제공받아 작성된 서평입니다."—

---

혹시 내용에 잘못 된 부분이 있으면 Disqus로 댓글 달아주시면 감사하겠습니다!
